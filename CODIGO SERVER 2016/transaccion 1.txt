CREATE PROCEDURE PA_TRANSACTION_UNO
(@PID_ESPACIO INT, @PNOMBRE_INSUMO VARCHAR (30), @PCOSTO_INSUMO NUMERIC (10,2))
AS 
BEGIN 
BEGIN TRY 
BEGIN TRANSACTION 
INSERT INTO INSUMO VALUES (@PID_ESPACIO, @PNOMBRE_INSUMO, @PCOSTO_INSUMO)
UPDATE SALA_VELATORIO SET PRECIO_ESPACIO=PRECIO_ESPACIO+@PCOSTO_INSUMO WHERE ID_ESPACIO=@PID_ESPACIO;
COMMIT TRANSACTION 
END TRY 
BEGIN CATCH
ROLLBACK TRANSACTION 
RAISERROR ('error',1,2,4);
END CATCH
END
